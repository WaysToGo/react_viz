(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{254:function(e,t,n){e.exports=n(461)},461:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(32),i=n.n(c),o=n(33),u=n(96),s=n(22),l=n(217),f=n(511),m=n(507),p=n(23),b=n.n(p),d=n(75),O=n(139),v=n(43),h=n(5),g=n(222),E=n(201),j=n(219),y=n(76),w=n.n(y),x=n(30);function k(){var e=Object(d.a)(['\n      {\n        getMeasurements(\n          input: {\n            metricName: "','"\n            after: ',"\n          }\n        ) {\n          at\n          metric\n          value\n          unit\n        }\n      }\n    "]);return k=function(){return e},e}function D(){var e=Object(d.a)(["\n            subscription {\n                newMeasurement {\n                    at\n                    metric\n                    value\n                    unit\n                }\n            }\n        "]);return D=function(){return e},e}var S=new g.a({uri:"https://react.eogresources.com/graphql"}),I=new E.a({uri:"wss://react.eogresources.com/graphql",options:{reconnect:!0}}),L=Object(x.d)(function(e){var t=e.query,n=Object(h.l)(t);return"OperationDefinition"===n.kind&&"subscription"===n.operation},I,S),T=new j.a,C=new v.a({cache:T,link:L}),N=function(){var e=Object(O.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.subscribe({query:w()(D())});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(O.a)(b.a.mark(function e(t){var n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Date((new Date).getTime()-18e5).getTime(),e.next=3,C.query({query:w()(k(),t,n)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),V={client:C,subscribeLive:N,FetchLast30minData:P},M=n(39),A=n(202),R=n(104),F=n(80),_=n(26),W="EVENT/API_ERROR_RECEIVED",q="METRICS_RECEIVED",U="GET_LAST_THIRTY_MINS_DATA",z="METRICS_RECEIVED_MULTI",G="TRIGGER_LIVE_UPDATES",H=b.a.mark($),Y=b.a.mark(B);function $(e){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_.a)(u.toast.error,"Error Received: ".concat(e.error));case 2:case"end":return t.stop()}},H)}function B(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.f)(W,$);case 2:case"end":return e.stop()}},Y)}var J=[B],K=n(29),Q=b.a.mark(ce),X=b.a.mark(ie),Z=b.a.mark(ue),ee=b.a.mark(se),te=b.a.mark(le);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(n,!0).forEach(function(t){Object(K.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ae=function(e){return e.metrics.metrics};function ce(e){var t;return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(_.d)(ae);case 2:return t=n.sent,e.map(function(e){var n,r=e.metric,a=e.at,c=e.value;return t=re({},t,Object(K.a)({},a,re({},t[a],(n={},Object(K.a)(n,r,c),Object(K.a)(n,"at",a),n)))),null}),n.next=6,Object(_.c)({type:z,metrics:t});case 6:case"end":return n.stop()}},Q)}function ie(e){var t,n,r,a,c,i,o;return b.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return n=e.metric,r=e.at,a=e.value,u.next=3,Object(_.d)(ae);case 3:return c=u.sent,u.next=6,Object(_.d)(function(e){return e.metrics.latestValue});case 6:return i=u.sent,c=re({},c,Object(K.a)({},r,re({},c[r],(t={},Object(K.a)(t,n,a),Object(K.a)(t,"at",r),t)))),o=re({},i,Object(K.a)({},n,a)),u.next=11,Object(_.c)({type:q,metrics:c,latestValue:o});case 11:case"end":return u.stop()}},X)}var oe=function(e){return Object(R.b)(function(t){return e.subscribe(function(e){t(e)}),function(){e.unsubscribe()}})};function ue(){var e,t,n,r;return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(_.a)(V.subscribeLive);case 2:return e=a.sent,a.next=5,Object(_.a)(oe,e);case 5:t=a.sent;case 6:return a.next=9,Object(_.e)(t);case 9:return n=a.sent,r=n.data,a.next=13,Object(_.b)(ie,r.newMeasurement);case 13:a.next=6;break;case 15:case"end":return a.stop()}},Z)}function se(e){var t,n,r;return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(_.a)(V.FetchLast30minData,e.metricName);case 2:return t=a.sent,n=t.data,r=n.getMeasurements,a.next=7,Object(_.b)(ce,r);case 7:case"end":return a.stop()}},ee)}function le(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.f)(U,se);case 2:return e.next=4,Object(_.f)(G,ue);case 4:case"end":return e.stop()}},te)}var fe,me=[le],pe=[].concat(Object(F.a)(J),Object(F.a)(me)),be={temperatureinCelsius:null,temperatureinFahrenheit:null,description:"",locationName:""},de=Object(K.a)({},"EVENT/WEATHER_DATA_RECEIVED",function(e,t){var n,r=t.getWeatherForLocation,a=r.description,c=r.locationName,i=r.temperatureinCelsius;return{temperatureinCelsius:i,temperatureinFahrenheit:(n=i,9*n/5+32),description:a,locationName:c}}),Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0,n=de[t.type];return"undefined"===typeof n?e:n(e,t)};function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(n,!0).forEach(function(t){Object(K.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ge={metrics:{},latestValue:{}},Ee=(fe={},Object(K.a)(fe,q,function(e,t){return he({},e,{metrics:t.metrics,latestValue:t.latestValue})}),Object(K.a)(fe,z,function(e,t){return he({},e,{metrics:t.metrics})}),fe),je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0,n=Ee[t.type];return"undefined"===typeof n?e:n(e,t)},ye=(n(282),n(203)),we=Object(ye.a)(function(e){return{wrapper:{backgroundImage:"linear-gradient(#2a3265, #1e234d)",color:"#fff",height:"100vh"}}}),xe=function(e){var t=e.children,n=we();return a.a.createElement("div",{className:n.wrapper},t)},ke=n(463),De=n(491),Se=n(492),Ie=n(68),Le=n(109),Te=n(490),Ce=n(509),Ne=n(510),Pe=n(16),Ve=Object(Pe.a)(function(e){return{root:{background:e.palette.secondary.main},label:{color:e.palette.primary.main}}})(Ne.a),Me=Object(Le.b)({url:"https://react.eogresources.com/graphql"}),Ae=function(e){var t=e.weather;return{temperatureinFahrenheit:t.temperatureinFahrenheit,description:t.description,locationName:t.locationName}},Re=function(){return a.a.createElement(Le.a,{value:Me},a.a.createElement(Fe,null))},Fe=function(){var e=Object(Te.a)(),t={latitude:e.latitude||29.7604,longitude:e.longitude||-95.3698},n=Object(o.c)(),c=Object(o.d)(Ae),i=c.temperatureinFahrenheit,u=c.description,s=c.locationName,l=Object(Le.c)({query:"\nquery($latLong: WeatherQuery!) {\n  getWeatherForLocation(latLong: $latLong) {\n    description\n    locationName\n    temperatureinCelsius\n  }\n}\n",variables:{latLong:t}}),f=Object(Ie.a)(l,1)[0],m=f.fetching,p=f.data,b=f.error;return Object(r.useEffect)(function(){if(b)n({type:W,error:b.message});else if(p){var e=p.getWeatherForLocation;n({type:"EVENT/WEATHER_DATA_RECEIVED",getWeatherForLocation:e})}},[n,p,b]),m?a.a.createElement(Ce.a,null):a.a.createElement(Ve,{label:"Weather in ".concat(s,": ").concat(u," and ").concat(i,"\xb0")})},_e=Object(ye.a)({grow:{flexGrow:1}}),We=function(){var e=_e();return a.a.createElement(De.a,{position:"static"},a.a.createElement(Se.a,null,a.a.createElement(ke.a,{variant:"h6",color:"inherit",className:e.grow}),a.a.createElement(Re,null)))},qe=n(223),Ue=n(504),ze=n(205),Ge=n(206),He=n(220),Ye=n(207),$e=n(221),Be=n(512),Je=n(493),Ke=n(494),Qe=n(508);function Xe(){var e=Object(d.a)(["\n    query {\n        getMetrics\n    }\n"]);return Xe=function(){return e},e}var Ze=w()(Xe()),et=function(e){function t(){var e,n;Object(ze.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(He.a)(this,(e=Object(Ye.a)(t)).call.apply(e,[this].concat(a)))).state={selected:[]},n.handleOnChange=function(e){var t=n.props.setSelected,r=n.state.selected,a=e.value,c=[];c=n.isMetricSelected(a)?r.filter(function(e){return e.value!==a}):[].concat(Object(F.a)(r),[e]),t(function(){return c.map(function(e){return e.value})}),n.setState({selected:c})},n.isMetricSelected=function(e){var t=n.state.selected,r=!1;return t.forEach(function(t){t.value===e&&(r=!0)}),r},n}return Object($e.a)(t,e),Object(Ge.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(Be.a,{query:Ze},function(t){var n=t.loading,r=t.error,c=t.data;if(n)return"Loading...";if(r)return"Error! ".concat(r.message);var i=c.getMetrics.map(function(e){return{value:e,label:e}});return a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",null,"Select Metrics: "),a.a.createElement(Je.a,{row:!0},i.map(function(t){var n=t.value,r=t.label;return a.a.createElement(Ke.a,{key:r,control:a.a.createElement(Qe.a,{checked:e.isMetricSelected(n),onChange:function(){return e.handleOnChange(t)},value:n}),label:r.toUpperCase()})})))})}}]),t}(a.a.Component),tt=n(44),nt=n(107),rt=n(106),at=n(501),ct=n(502),it=n(503),ot=n(105),ut=n(63),st=[nt.a[500],rt.a[500],at.a[500],ct.a[500],it.a[500],ot.a[500]],lt=function(e){var t=e.metrics.metrics;return{data:Object.keys(t).map(function(e){return t[e]})}},ft=function(e){var t=e.selectedMetrics,n=e.getYAxisID,r=e.axes,c=Object(o.d)(lt).data;return a.a.createElement(tt.c,null,a.a.createElement(tt.b,{width:800,height:500,data:c},t.map(function(e,t){return a.a.createElement(tt.a,{key:t,dot:!1,activeDot:!1,yAxisId:n(e),dataKey:e,stroke:st[t]})}),t.length>0&&a.a.createElement(tt.e,{dataKey:"at",strokeWidth:1,tickFormatter:ut.a("%I:%M")}),r.percentage&&a.a.createElement(tt.f,{label:{value:"%",position:"insideTopLeft",offset:0,fill:"#908e8e",dy:10,dx:10,angle:-90},yAxisId:0,orientation:"left",stroke:"#908e8e",domain:[0,100],ticks:[0,10,20,30,40,50,60,70,80,90,100],tick:{fontSize:12}}),r.pressure&&a.a.createElement(tt.f,{label:{value:"PSI",position:"insideTopLeft",offset:0,fill:"#908e8e",fontSize:12,dy:15,dx:10,angle:-90},yAxisId:1,orientation:"left",stroke:"#908e8e",tick:{fontSize:12}}),r.temp&&a.a.createElement(tt.f,{label:{value:"F",position:"insideTopLeft",offset:0,fill:"#908e8e",fontSize:12,dy:10,dx:10,angle:-90},yAxisId:2,orientation:"left",stroke:"#908e8e",tick:{fontSize:12}}),"}",a.a.createElement(tt.d,null)))},mt=n(505),pt=n(506),bt=Object(ye.a)(function(e){return{card:{background:"#171C43",color:"#5c69c5"},title:{color:"#fff"}}}),dt=function(e){var t=bt();return a.a.createElement(Ue.a,{item:!0,md:3,lg:2},a.a.createElement(mt.a,{elevation:1},a.a.createElement(pt.a,{className:t.card},a.a.createElement(ke.a,{variant:"h6"},e.title.toUpperCase()),a.a.createElement(ke.a,{className:t.title,variant:"h5"},e.currentValue))))},Ot=Object(o.b)(function(e){return{latestValue:e.metrics.latestValue}})(function(e){var t=e.selectedMetrics,n=e.latestValue;return a.a.createElement(a.a.Fragment,null,t.map(function(e,t){return a.a.createElement(dt,{key:t,currentValue:n[e],title:e})}))}),vt=Object(ye.a)(function(e){return{root:{padding:e.spacing(4)},chartContainer:{width:"100vw",height:"500px"}}}),ht=Object(o.b)(function(){return{}},function(e){return{startLiveUpdates:function(){e({type:G})},getPastData:function(t){e({type:U,metricName:t})}}})(function(e){var t=e.startLiveUpdates,n=e.getPastData,r=(e.latestValue,e.metrics,Object(qe.a)(e,["startLiveUpdates","getPastData","latestValue","metrics"])),c=vt(r),i=a.a.useState({pressure:!1,temp:!1,percentage:!1}),o=Object(Ie.a)(i,2),u=o[0],s=o[1],l=a.a.useState([]),f=Object(Ie.a)(l,2),m=f[0],p=f[1];a.a.useEffect(function(){var e=!1;Object.entries(u).forEach(function(t){Object(Ie.a)(t,1)[0]&&(e=!0)}),e&&t()},[u,t]);var b=function(e){return e.toLowerCase().endsWith("pressure")?1:e.toLowerCase().endsWith("temp")?2:0};return a.a.createElement("main",{className:c.root},a.a.createElement(Ue.a,{container:!0},a.a.createElement(Ue.a,{container:!0,item:!0,xs:12,spacing:4},a.a.createElement(Ue.a,{item:!0,xs:12,md:12,lg:12},a.a.createElement(et,{setSelected:function(e){var t=e();m.length<t.length&&n(t[t.length-1]),s({pressure:t.some(function(e){return 1===b(e)}),temp:t.some(function(e){return 2===b(e)}),percentage:t.some(function(e){return 0===b(e)})}),p(e)},selectedMetrics:m})),a.a.createElement(Ue.a,{item:!0,container:!0,spacing:2,className:c.valueGrid},a.a.createElement(Ue.a,{item:!0,lg:12,md:7,xs:12},a.a.createElement(Ue.a,{container:!0,spacing:2},a.a.createElement(Ot,{selectedMetrics:m})))),a.a.createElement(Ue.a,{className:c.chartContainer,item:!0,container:!0,xs:12,justify:"center",alignItems:"center"},a.a.createElement(ft,{selectedMetrics:m,getYAxisID:b,axes:u})))))}),gt=V.client,Et=function(){var e=Object(M.combineReducers)({weather:Oe,metrics:je}),t=Object(A.composeWithDevTools)({}),n=Object(R.a)(),r=Object(M.applyMiddleware)(n),a=Object(M.createStore)(e,t(r));return pe.forEach(n.run),a}(),jt=Object(l.a)({typography:{useNextVariants:!0},palette:{primary:{main:"rgb(39,49,66)"},secondary:{main:"rgb(197,208,222)"},background:{main:"#0f273d"}}}),yt=function(e){return a.a.createElement(f.a,{theme:jt},a.a.createElement(m.a,null),a.a.createElement(s.a,{client:gt},a.a.createElement(o.a,{store:Et},a.a.createElement(xe,null,a.a.createElement(We,null),a.a.createElement(u.ToastContainer,null),a.a.createElement(ht,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(yt,{style:{background:"#0f273d"}}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[254,1,2]]]);
//# sourceMappingURL=main.5530d146.chunk.js.map